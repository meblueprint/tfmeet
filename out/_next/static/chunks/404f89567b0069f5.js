(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93631,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},59924,e=>{"use strict";var t=e.i(15952),a=e.i(8813);e.i(99054);var s=e.i(80639),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let r=(0,s.createSlot)(`Primitive.${i}`),n=a.forwardRef((e,a)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?r:i,{...n,ref:a})});return n.displayName=`Primitive.${i}`,{...e,[i]:n}},{}),r=a.forwardRef((e,a)=>(0,t.jsx)(i.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var n=e.i(83326);function l({className:e,...a}){return(0,t.jsx)(r,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>l],59924)},74829,e=>{"use strict";var t=e.i(15952),a=e.i(83326);function s({className:e,type:s,...i}){return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>s])},26097,e=>{"use strict";var t=e.i(15952),a=e.i(98861),s=e.i(74001),i=e.i(81467),r=e.i(83326),n=e.i(68404),l=e.i(1205),d=e.i(24645),o=e.i(78063),c=e.i(15974),u=e.i(28825);let h=(0,e.i(82724).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),x=[{title:"运动会信息",href:"/settings/meet",icon:o.Calendar},{title:"用户管理",href:"/settings/users",icon:c.Users},{title:"班级管理",href:"/settings/classes",icon:c.Users},{title:"项目管理",href:"/settings/events",icon:u.Trophy}];function m({children:e}){let o=(0,s.usePathname)(),{hasRole:c}=(0,i.useAuth)();return c("super_admin")?(0,t.jsxs)("div",{className:"flex min-h-screen",children:[(0,t.jsx)(d.Sidebar,{}),(0,t.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,t.jsxs)("div",{className:"border-b bg-white p-6",children:[(0,t.jsx)(a.default,{href:"/",children:(0,t.jsxs)(n.Button,{variant:"ghost",size:"sm",className:"gap-2",children:[(0,t.jsx)(h,{className:"h-4 w-4"}),"返回仪表盘"]})}),(0,t.jsx)("h1",{className:"text-2xl font-bold mt-2",children:"系统设置"})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-56 border-r bg-gray-50/40",children:(0,t.jsx)(l.ScrollArea,{className:"h-[calc(100vh-120px)] p-4",children:(0,t.jsx)("nav",{className:"space-y-1",children:x.map(e=>{let s=e.icon,i=o===e.href;return(0,t.jsx)(a.default,{href:e.href,children:(0,t.jsxs)(n.Button,{variant:i?"secondary":"ghost",className:(0,r.cn)("w-full justify-start gap-2",i&&"bg-primary/10 text-primary hover:bg-primary/20"),children:[(0,t.jsx)(s,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.title})]})},e.href)})})})}),(0,t.jsx)("div",{className:"flex-1 p-6",children:e})]})]})]}):null}e.s(["default",()=>m],26097)},36161,e=>{"use strict";var t=e.i(15952),a=e.i(83326);function s({className:e,...s}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}e.s(["Textarea",()=>s])},28178,e=>{"use strict";var t=e.i(15952),a=e.i(8813),s=e.i(74001),i=e.i(26097),r=e.i(68404),n=e.i(74829),l=e.i(59924),d=e.i(36161),o=e.i(91782),c=e.i(10011),u=e.i(58786);function h(){let e=(0,s.useRouter)(),[h,x]=(0,a.useState)(null),[m,p]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=u.storage.getMeetInfo();e?x(e):x({id:"meet-1",name:"2024年春季田径运动会",edition:1,startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+2592e5).toISOString().split("T")[0],schoolName:"示例学校",description:""})},[]),h)?(0,t.jsx)(i.default,{children:(0,t.jsx)("div",{className:"max-w-2xl",children:(0,t.jsxs)(o.Card,{children:[(0,t.jsxs)(o.CardHeader,{children:[(0,t.jsx)(o.CardTitle,{children:"运动会基本信息"}),(0,t.jsx)(o.CardDescription,{children:"配置运动会的基本信息，包括名称、时间、学校等"})]}),(0,t.jsxs)(o.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"name",children:"运动会名称 *"}),(0,t.jsx)(n.Input,{id:"name",value:h.name,onChange:e=>x({...h,name:e.target.value}),placeholder:"请输入运动会名称"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"edition",children:"届数 *"}),(0,t.jsx)(n.Input,{id:"edition",type:"number",min:"1",value:h.edition,onChange:e=>x({...h,edition:parseInt(e.target.value)||1}),placeholder:"请输入届数"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"schoolName",children:"学校名称 *"}),(0,t.jsx)(n.Input,{id:"schoolName",value:h.schoolName,onChange:e=>x({...h,schoolName:e.target.value}),placeholder:"请输入学校名称"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"startDate",children:"开始日期 *"}),(0,t.jsx)(n.Input,{id:"startDate",type:"date",value:h.startDate,onChange:e=>x({...h,startDate:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"endDate",children:"结束日期 *"}),(0,t.jsx)(n.Input,{id:"endDate",type:"date",value:h.endDate,onChange:e=>x({...h,endDate:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"description",children:"运动会描述"}),(0,t.jsx)(d.Textarea,{id:"description",value:h.description||"",onChange:e=>x({...h,description:e.target.value}),placeholder:"请输入运动会描述（可选）",rows:4})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(r.Button,{onClick:()=>{h&&(p(!0),setTimeout(()=>{u.storage.saveMeetInfo(h),u.storage.addLog({userId:u.storage.getCurrentUser()?.id||"",userName:u.storage.getCurrentUser()?.name||"",action:"更新",target:"运动会信息",details:"更新运动会基本配置"}),c.toast.success("保存成功！"),p(!1)},500))},disabled:m,children:m?"保存中...":"保存"}),(0,t.jsx)(r.Button,{variant:"outline",onClick:()=>e.push("/"),children:"返回"})]})]})]})})}):(0,t.jsx)(i.default,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"加载中..."})})})}e.s(["default",()=>h])}]);