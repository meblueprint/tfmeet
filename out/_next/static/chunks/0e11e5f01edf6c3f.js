(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93631,(e,s,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},51441,e=>{"use strict";let s=(0,e.i(82724).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],51441)},22209,e=>{"use strict";let s=(0,e.i(82724).default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>s],22209)},72582,e=>{"use strict";var s=e.i(15952),t=e.i(8813),r=e.i(74001),l=e.i(81467),a=e.i(24645),i=e.i(91782),d=e.i(58786),n=e.i(15974),o=e.i(28825),c=e.i(78063),x=e.i(22209),m=e.i(51441);function h(){let{user:e,isAuthenticated:h}=(0,l.useAuth)(),f=(0,r.useRouter)(),[j,g]=(0,t.useState)({totalClasses:0,totalStudents:0,totalEvents:0,totalRegistrations:0,totalResults:0,totalCertificates:0});return((0,t.useEffect)(()=>{if(!h)return void f.push("/login");let e=d.storage.getClasses(),s=d.storage.getStudents(),t=d.storage.getEvents(),r=d.storage.getRegistrations(),l=d.storage.getResults(),a=d.storage.getCertificates();g({totalClasses:e.length,totalStudents:s.length,totalEvents:t.length,totalRegistrations:r.filter(e=>"approved"===e.status).length,totalResults:l.length,totalCertificates:a.length})},[h,f]),h)?(0,s.jsxs)("div",{className:"flex min-h-screen",children:[(0,s.jsx)(a.Sidebar,{}),(0,s.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,s.jsxs)("div",{className:"border-b bg-white p-6",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold",children:["欢迎回来，",e?.name,"！"]}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-1",children:[e?.role==="super_admin"&&"系统超级管理员",e?.role==="class_admin"&&`班级管理员 - ${e?.className}`,e?.role==="student"&&`学生 - ${e?.className}`]})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"数据概览"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"参赛班级"}),(0,s.jsx)(n.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:j.totalClasses}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"个班级参与"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"参赛学生"}),(0,s.jsx)(n.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:j.totalStudents}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"名学生报名"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"比赛项目"}),(0,s.jsx)(o.Trophy,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:j.totalEvents}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"个比赛项目"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"有效报名"}),(0,s.jsx)(c.Calendar,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:j.totalRegistrations}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"条报名记录"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"已录入成绩"}),(0,s.jsx)(m.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:j.totalResults}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"条成绩记录"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"已生成奖状"}),(0,s.jsx)(x.Award,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:j.totalCertificates}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"张奖状"})]})]})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"快速开始"}),(0,s.jsx)(i.Card,{children:(0,s.jsx)(i.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e?.role==="super_admin"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{title:"配置运动会",description:"设置运动会基本信息",href:"/settings/meet",color:"blue"}),(0,s.jsx)(u,{title:"管理班级",description:"添加和管理参赛班级",href:"/settings/classes",color:"green"}),(0,s.jsx)(u,{title:"管理项目",description:"添加和管理比赛项目",href:"/settings/events",color:"purple"}),(0,s.jsx)(u,{title:"数据统计",description:"查看详细统计数据",href:"/statistics",color:"orange"})]}),e?.role==="class_admin"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{title:"班级报名",description:"为本班学生报名参赛",href:"/registration",color:"blue"}),(0,s.jsx)(u,{title:"录入成绩",description:"录入本班学生成绩",href:"/results",color:"green"}),(0,s.jsx)(u,{title:"查看赛程",description:"查看比赛赛程安排",href:"/schedule",color:"purple"}),(0,s.jsx)(u,{title:"生成奖状",description:"为获奖学生生成奖状",href:"/certificates",color:"orange"})]}),e?.role==="student"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{title:"我的成绩",description:"查看我的比赛成绩",href:"/results",color:"blue"}),(0,s.jsx)(u,{title:"查看赛程",description:"查看比赛赛程安排",href:"/schedule",color:"green"}),(0,s.jsx)(u,{title:"我的奖状",description:"查看和保存我的奖状",href:"/certificates",color:"purple"})]})]})})})]})]})]})]}):null}function u({title:e,description:t,href:r,color:l}){return(0,s.jsxs)("a",{href:r,className:`block rounded-lg border bg-white p-4 transition-colors ${{blue:"hover:bg-blue-50 hover:border-blue-200",green:"hover:bg-green-50 hover:border-green-200",purple:"hover:bg-purple-50 hover:border-purple-200",orange:"hover:bg-orange-50 hover:border-orange-200"}[l]}`,children:[(0,s.jsx)("h3",{className:"font-semibold",children:e}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:t})]})}e.s(["default",()=>h])}]);